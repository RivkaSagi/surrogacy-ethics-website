# ××¢×¨×›×ª Cache ×œ×¦×•×•×ª ×”×¤×•×¨×•×

## ×¡×§×™×¨×” ×›×œ×œ×™×ª

×”××ª×¨ ××©×ª××© ×‘××¢×¨×›×ª cache ××§×•××™×ª ×œ× ×™×”×•×œ ××™×“×¢ ×¢×œ ×—×‘×¨×™ ×¦×•×•×ª ×”×¤×•×¨×•×. ×”××¢×¨×›×ª ×××¤×©×¨×ª:

- âœ… **×‘×™×¦×•×¢×™× ××”×™×¨×™×**: ×”××™×“×¢ × ×˜×¢×Ÿ ××§×•×‘×¥ ××§×•××™, ×œ× ×-API
- âœ… **×××™× ×•×ª ×’×‘×•×”×”**: ××™×Ÿ ×ª×œ×•×ª ×‘-API ×©×œ Google ×‘×–××Ÿ ×¨×™×¦×”
- âœ… **×¢×“×›×•×Ÿ ×¤×©×•×˜**: ×¡×§×¨×™×¤×˜ ××•×˜×•××˜×™ ××¢×“×›×Ÿ ××ª ×”××™×“×¢
- âœ… **××™×•×Ÿ ××œ×¤×‘×™×ª×™**: ×—×‘×¨×™ ×”×¦×•×•×ª ×××•×™× ×™× ××•×˜×•××˜×™×ª

## ×§×‘×¦×™× ×‘××¢×¨×›×ª

### 1. `src/data/team-members.json`
×§×•×‘×¥ ×”-cache ×”××§×•××™ ×©×©×•××¨ ××ª ××™×“×¢ ×—×‘×¨×™ ×”×¦×•×•×ª:

```json
{
  "members": [
    {
      "name": "×©× ×—×‘×¨ ×”×¦×•×•×ª",
      "description": "×ª×™××•×¨",
      "imageId": "google-drive-file-id",
      "imageUrl": "https://drive.google.com/uc?export=view&id=..."
    }
  ],
  "lastUpdated": "2024-12-08T19:30:00.000Z"
}
```

### 2. `scripts/update-team-cache.js`
×¡×§×¨×™×¤×˜ Node.js ×©××•×©×š ××ª ×”××™×“×¢ ×-Google Drive ×•××¢×“×›×Ÿ ××ª ×”-cache.

### 3. `src/components/team-members.tsx`
×”×§×•××¤×•× × ×˜×” ×©××¦×™×’×” ××ª ×—×‘×¨×™ ×”×¦×•×•×ª ××ª×•×š ×”-cache.

## ××™×š ×œ×”×©×ª××©

### ×”×’×“×¨×” ×¨××©×•× ×™×ª

1. ×¦×•×¨ ×§×•×‘×¥ `.env.local`:
```bash
NEXT_PUBLIC_GOOGLE_API_KEY=your_api_key_here
```

2. ×”×ª×§×Ÿ ××ª ×”×ª×œ×•×™×•×ª (×¤×¢× ××—×ª):
```bash
npm install
```

### ×¢×“×›×•×Ÿ ×”××™×“×¢

×›×œ ×¤×¢× ×©××¢×“×›× ×™× ××ª ×ª×™×§×™×™×ª Google Drive, ×”×¨×¥:

```bash
npm run update-team
```

×”×¡×§×¨×™×¤×˜:
- ××•×©×š ××ª ×¨×©×™××ª ×”×§×‘×¦×™× ××ª×™×§×™×™×ª Google Drive
- ××¡× ×Ÿ ×¨×§ ×§×‘×¦×™ ×ª××•× ×”
- ×—×•×œ×¥ ×©××•×ª ××ª×•×š ×©××•×ª ×”×§×‘×¦×™×
- ×××™×™×Ÿ ××œ×¤×‘×™×ª×™×ª ×‘×¢×‘×¨×™×ª
- ×©×•××¨ ×”×›×œ ×‘-`team-members.json`

### ×¤×œ×˜ ×”×¡×§×¨×™×¤×˜

```
ğŸ”„ Fetching team members from Google Drive...
ğŸ“ Found 15 files in folder
âœ… Processed 12 team member images
ğŸ’¾ Cache updated successfully at src/data/team-members.json
ğŸ“… Last updated: 2024-12-08T19:30:00.000Z

Team members:
  1. ××‘×™ ×›×”×Ÿ
  2. ×“×¨ ×¨×•× ×™×ª ×—×¡×•×Ÿ
  3. ×™×¢×œ ×œ×•×™
  ...
```

## ×©××•×ª ×”×§×‘×¦×™×

×©× ×”×§×•×‘×¥ (×œ×œ× ×¡×™×•××ª) = ×©× ×—×‘×¨ ×”×¦×•×•×ª

×“×•×’×××•×ª:
- `×“×¨_×¨×•× ×™×ª_×—×¡×•×Ÿ.jpg` â†’ "×“×¨ ×¨×•× ×™×ª ×—×¡×•×Ÿ"
- `××‘×™-×›×”×Ÿ.png` â†’ "××‘×™ ×›×”×Ÿ"
- `×™×¢×œ ×œ×•×™.jpeg` â†’ "×™×¢×œ ×œ×•×™"

**×˜×™×¤×™×:**
- ×§×• ×ª×—×ª×•×Ÿ (`_`) ×•××§×£ (`-`) ××•××¨×™× ×œ×¨×•×•×—
- ×¡×™×•××•×ª × ×ª××›×•×ª: jpg, jpeg, png, gif, webp

## ××‘× ×” ×”×ª×™×§×™×™×” ×‘-Google Drive

```
×ª×™×§×™×™×ª ×¦×•×•×ª ×”×¤×•×¨×•×/
â”œâ”€â”€ ×“×¨ ×¨×•× ×™×ª ×—×¡×•×Ÿ.jpg
â”œâ”€â”€ ××‘×™ ×›×”×Ÿ.png
â”œâ”€â”€ ×™×¢×œ ×œ×•×™.jpeg
â””â”€â”€ ...
```

**×—×©×•×‘:**
- ×”×ª×™×§×™×™×” ×—×™×™×‘×ª ×œ×”×™×•×ª ××•×’×“×¨×ª ×œ-"Anyone with the link can view"
- ×›×œ ×”×ª××•× ×•×ª ×¦×¨×™×›×•×ª ×œ×”×™×•×ª ×’×œ×•×™×•×ª
- ×›×œ ×ª××•× ×” ×—×™×™×‘×ª ×œ×”×™×•×ª ×§×•×‘×¥ ×ª××•× ×” ×ª×§×™×Ÿ

## ×ª×™××•×¨×™× ××•×ª×××™× ××™×©×™×ª

×›×¨×’×¢ ×”×ª×™××•×¨ ×‘×‘×¨×™×¨×ª ××—×“×œ ×”×•×:
```
"×—×‘×¨/×” ×‘×¦×•×•×ª ×”×¤×•×¨×•× ×œ×”×•×‘×œ×ª ×”×§×•×“ ×”××ª×™ ×œ×¤×•× ×“×§××•×ª ×‘×™×©×¨××œ"
```

### ××¤×©×¨×•×ª 1: ×¢×“×›×•×Ÿ ×™×“× ×™ ×‘×§×•×“

×¢×¨×•×š ××ª ×”×¤×•× ×§×¦×™×” ×‘-`src/lib/google.ts`:

```javascript
function generateDescription(name) {
  const descriptions = {
    "×“×¨ ×¨×•× ×™×ª ×—×¡×•×Ÿ": "××•××—×™×ª ×‘×¤×•× ×“×§××•×ª ×•××ª×™×§×” ×¨×¤×•××™×ª",
    "××‘×™ ×›×”×Ÿ": "×¢×•×¨×š ×“×™×Ÿ ××ª××—×” ×‘×“×™× ×™ ××©×¤×—×”",
    // ...
  };
  return descriptions[name] || "×—×‘×¨/×” ×‘×¦×•×•×ª ×”×¤×•×¨×•×...";
}
```

### ××¤×©×¨×•×ª 2: Google Sheet (×¢×ª×™×“×™)

× ×™×ª×Ÿ ×œ×”×¨×—×™×‘ ××ª ×”××¢×¨×›×ª ×œ×§×¨×•× ×ª×™××•×¨×™× ×-Google Sheet:
1. ×¦×•×¨ Sheet ×¢× ×¢××•×“×•×ª: ×©× | ×ª×™××•×¨
2. ×¢×“×›×Ÿ ××ª ×”×¡×§×¨×™×¤×˜ ×œ×§×¨×•× ××”-Sheet
3. ×©×œ×‘ ××ª ×”×ª×™××•×¨×™× ×¢× ×”× ×ª×•× ×™× ×-Drive

## ×™×ª×¨×•× ×•×ª ×”××¢×¨×›×ª

### ğŸš€ ×‘×™×¦×•×¢×™×
- ×˜×¢×™× ×” ××™×™×“×™×ª - ××™×Ÿ ×§×¨×™××•×ª API
- ××™×Ÿ ×“×™×œ×™×™ ××• timeout
- ×¤×—×•×ª ×¢×•××¡ ×¢×œ Google Drive API

### ğŸ”’ ×××™× ×•×ª
- ××™×Ÿ ×ª×œ×•×ª ×‘×–××™× ×•×ª ×©×œ Google API
- ×”×¢××•×“ ×¢×•×‘×“ ×’× ×× ×”-API × ×›×©×œ
- ×œ× ×¦×¨×™×š API key ×‘×¡×‘×™×‘×ª production

### ğŸ’° ×—×¡×›×•×Ÿ
- ×¤×—×•×ª ×§×¨×™××•×ª API = ×¤×—×•×ª ×¢×œ×•×™×•×ª
- ××™×Ÿ ××’×‘×œ×ª rate limit

### ğŸ¯ ×©×œ×™×˜×”
- × ×™×ª×Ÿ ×œ×‘×“×•×§ ××ª ×”× ×ª×•× ×™× ×œ×¤× ×™ ×¤×¨×¡×•×
- × ×™×ª×Ÿ ×œ×¢×¨×•×š ×™×“× ×™×ª ×‘××§×¨×” ×”×¦×•×¨×š
- ×”×™×¡×˜×•×¨×™×™×ª ×©×™× ×•×™×™× ×‘-Git

## ××•×˜×•××¦×™×” (××•×¤×¦×™×•× ×œ×™)

### GitHub Actions

× ×™×ª×Ÿ ×œ×”×•×¡×™×£ workflow ×©××¢×“×›×Ÿ ××ª ×”-cache ××•×˜×•××˜×™×ª:

```yaml
# .github/workflows/update-team.yml
name: Update Team Cache

on:
  schedule:
    - cron: '0 0 * * *'  # ×›×œ ×™×•× ×‘×—×¦×•×ª
  workflow_dispatch:  # ×™×“× ×™

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm install
      - run: npm run update-team
        env:
          NEXT_PUBLIC_GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
      - uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "ğŸ¤– ×¢×“×›×•×Ÿ ××•×˜×•××˜×™ ×©×œ ×¦×•×•×ª ×”×¤×•×¨×•×"
```

### Webhook (××ª×§×“×)

× ×™×ª×Ÿ ×œ×”×’×“×™×¨ webhook ×‘-Google Drive ×©×™×§×¨× ×œ×¡×§×¨×™×¤×˜ ×›×©××©× ×™× ××ª ×”×ª×™×§×™×™×”.

## ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª

### ×”×¡×§×¨×™×¤×˜ × ×›×©×œ

```bash
âŒ Error: NEXT_PUBLIC_GOOGLE_API_KEY not found in .env.local
```
**×¤×ª×¨×•×Ÿ:** ×¦×•×¨ ×§×•×‘×¥ `.env.local` ×¢× ×”-API key

### ××™×Ÿ ×—×‘×¨×™ ×¦×•×•×ª

```bash
âœ… Processed 0 team member images
```
**×‘×“×•×§:**
- ×™×© ×ª××•× ×•×ª ×‘×ª×™×§×™×™×”?
- ×”×ª××•× ×•×ª ×”×Ÿ jpg/png/gif?
- ID ×”×ª×™×§×™×™×” × ×›×•×Ÿ ×‘-`src/config/content.ts`?

### ×”×ª××•× ×•×ª ×œ× × ×˜×¢× ×•×ª ×‘××ª×¨

**×‘×“×•×§:**
- ×”×ª×™×§×™×™×” ×¦×™×‘×•×¨×™×ª?
- ×›×œ ×”×ª××•× ×•×ª ×’×œ×•×™×•×ª?
- ×”-cache ×¢×•×“×›×Ÿ (×”×¨×¥ `npm run update-team`)?

## ×ª×—×–×•×§×”

### ×¢×“×›×•×Ÿ ×©×•×˜×£
- ×”×¨×¥ `npm run update-team` ××—×¨×™ ×›×œ ×©×™× ×•×™ ×‘×ª×™×§×™×™×ª Drive
- ×‘×“×•×§ ××ª `team-members.json` ×‘-Git diff
- ×¢×“×›×Ÿ ××ª ×”×ª×™××•×¨×™× ×œ×¤×™ ×”×¦×•×¨×š

### × ×™×§×™×•×Ÿ
×× ×¨×•×¦×™× ×œ×”×ª×—×™×œ ××—×“×©:
```bash
echo '{"members":[],"lastUpdated":null}' > src/data/team-members.json
npm run update-team
```
